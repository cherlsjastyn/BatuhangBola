DATABASE:
-- Create the database
CREATE DATABASE IF NOT EXISTS batuhang_bola;
USE batuhang_bola;
-- 1️⃣ Players table

CREATE TABLE IF NOT EXISTS players (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(255) NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );

      CREATE TABLE IF NOT EXISTS leaderboard_stats (
        id INT AUTO_INCREMENT PRIMARY KEY,
        player_id INT NOT NULL,
        role ENUM('dodger', 'thrower') DEFAULT 'dodger',
        difficulty ENUM('easy', 'medium', 'hard') DEFAULT 'easy',
        total_score INT DEFAULT 0,
        games_played INT DEFAULT 0,
        wins INT DEFAULT 0,
        losses INT DEFAULT 0,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
        FOREIGN KEY (player_id) REFERENCES players(id),
        UNIQUE KEY unique_player_role_diff (player_id, role, difficulty)
      );

      CREATE TABLE IF NOT EXISTS mechanics (
        id INT AUTO_INCREMENT PRIMARY KEY,
        title VARCHAR(255) NOT NULL,
        content TEXT NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
      );
      
      INSERT IGNORE INTO mechanics (title, content) VALUES
        ('Game Objective', 'Dodgers must avoid balls thrown by throwers. Throwers aim to hit dodgers with balls.'),
        ('Controls', 'Thrower 1: A/D to move, W/S to aim, Space to throw. Thrower 2: Arrow keys to move/aim, Numpad5 to throw. Dodgers: WASD for player 1, IJKL for player 2, Arrows for player 3, Numpad for player 4.'),
        ('Scoring', 'Throwers earn points for each dodger hit. Dodgers earn points for surviving longer.'),
        ('Winning', 'Throwers win by hitting all dodgers. Dodgers win by surviving the time limit or all throw attempts.');
